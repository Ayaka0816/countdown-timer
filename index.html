<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>カウントダウンプログラム</title>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN W3', sans-serif;
            background-color: #ffc1cc;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
        }
        
        
        .container {
            background-color: #ffeef7;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(233, 30, 99, 0.15);
            text-align: center;
            max-width: 500px;
            width: 100%;
            border: 3px solid #f48fb1;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(248, 187, 217, 0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes float {
            0%, 100% { transform: rotate(0deg) translateX(0); }
            50% { transform: rotate(180deg) translateX(20px); }
        }
        
        h1 {
            font-family: 'M PLUS Rounded 1c', 'Hiragino Maru Gothic ProN', sans-serif;
            color: #c2185b;
            margin-bottom: 30px;
            font-size: 32px;
            text-shadow: 2px 2px 4px rgba(194, 24, 91, 0.3);
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .input-group {
            margin-bottom: 20px;
            text-align: center;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #ad1457;
            font-size: 16px;
        }
        
        input {
            padding: 16px;
            border: 3px solid #f8bbd9;
            border-radius: 15px;
            font-size: 18px;
            width: 250px;
            background-color: #fce4ec;
            color: #880e4f;
            transition: all 0.3s ease;
            text-align: center;
            display: block;
            margin: 0 auto;
        }
        
        input:focus {
            border-color: #e91e63;
            box-shadow: 0 0 15px rgba(233, 30, 99, 0.3);
            outline: none;
            transform: scale(1.02);
        }
        
        button {
            background-color: #e91e63;
            color: white;
            border: none;
            padding: 18px 36px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            margin: 12px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }
        
        button:hover {
            background-color: #c2185b;
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(233, 30, 99, 0.4);
        }
        
        button:hover::before {
            width: 100px;
            height: 100px;
        }
        
        .countdown-result {
            font-family: 'M PLUS Rounded 1c', 'Hiragino Maru Gothic ProN', sans-serif;
            margin-top: 30px;
            padding: 25px;
            background-color: #f8bbd9;
            border-radius: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #ad1457;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid #f8bbd9;
            box-shadow: inset 0 2px 10px rgba(248, 187, 217, 0.2);
            text-shadow: 1px 1px 2px rgba(194, 24, 91, 0.3);
        }
        
        .preset-buttons {
            margin: 25px 0;
        }
        
        .preset-btn {
            background-color: #f06292;
            margin: 10px;
            font-size: 16px;
            padding: 16px 24px;
        }
        
        .preset-btn:hover {
            background-color: #e91e63;
            transform: translateY(-2px) scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>カウントダウンプログラム</h1>
        
        <div class="input-group">
            <label for="targetDate">日付の入力</label>
            <input type="date" id="targetDate">
        </div>
        
        <div class="input-group">
            <label for="eventName">イベント名</label>
            <input type="text" id="eventName" placeholder="例：8月終了">
        </div>
        
        <button onclick="calculateCountdown()">カウントダウン開始</button>
        
        <div class="preset-buttons">
            <button class="preset-btn" onclick="setPresetDate('month-end')">今月末</button>
            <button class="preset-btn" onclick="setPresetDate('year-end')">年末</button>
            <button class="preset-btn" onclick="setPresetDate('next-month')">来月1日</button>
        </div>
        
        <div class="countdown-result" id="result">
            目標日付を設定してください
        </div>
    </div>

    <script>
        function calculateCountdown() {
            const targetDateInput = document.getElementById('targetDate').value;
            const eventName = document.getElementById('eventName').value || '目標日';
            const resultDiv = document.getElementById('result');
            
            if (!targetDateInput) {
                resultDiv.textContent = '日付を入力してください';
                return;
            }
            
            const targetDate = new Date(targetDateInput);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            targetDate.setHours(0, 0, 0, 0);
            
            const diffTime = targetDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays > 0) {
                resultDiv.textContent = `${eventName}まであと${diffDays}日`;
            } else if (diffDays === 0) {
                resultDiv.textContent = `${eventName}は今日です！`;
            } else {
                resultDiv.textContent = `${eventName}は${Math.abs(diffDays)}日前でした`;
            }
        }
        
        function setPresetDate(preset) {
            const today = new Date();
            let targetDate;
            let eventName;
            
            switch(preset) {
                case 'month-end':
                    targetDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);
                    eventName = `${today.getMonth() + 1}月終了`;
                    break;
                case 'year-end':
                    targetDate = new Date(today.getFullYear(), 11, 31);
                    eventName = '年末';
                    break;
                case 'next-month':
                    targetDate = new Date(today.getFullYear(), today.getMonth() + 1, 1);
                    eventName = '来月開始';
                    break;
            }
            
            document.getElementById('targetDate').value = targetDate.toISOString().split('T')[0];
            document.getElementById('eventName').value = eventName;
            
            calculateCountdown();
        }
        
        // ページ読み込み時に今日の日付をデフォルト設定
        window.onload = function() {
            const today = new Date();
            const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            document.getElementById('targetDate').value = monthEnd.toISOString().split('T')[0];
            document.getElementById('eventName').value = `${today.getMonth() + 1}月終了`;
        };
    </script>
</body>
</html>